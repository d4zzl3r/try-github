<!DOCTYPE html>
<html lang="en">

<head>
    <script src="js/jquery.js" ></script>
    <script>

        //Method 1 1st API
        $.getJSON("http://battuta.medunes.net/api/country/all/?key=3c8f199520fd54ea754cffd3245bbbe1",function(data){
            console.log(data);
            });


            //Method 2 API 2
        var token;
        var get1 = new XMLHttpRequest();
        var url = " https://www.universal-tutorial.com/api/getaccesstoken";
        get1.open("GET", url, true);
        get1.setRequestHeader("Accept","application/json");
        get1.setRequestHeader("api-code","_8O15P4RLwBR5NFiXxsvq8pXoWsfPA-dETzlcFGjzEo7ZsXDzeBtY5tQmeMmkaoQ94");
        get1.setRequestHeader("user-email","hh@gmail.com")
        get1.onreadystatechange = function () {
            if (get1.readyState == 4 && get1.status == 200) {
                var data = JSON.parse(get1.responseText);
                token = data.auth_token;
            }

        };
        get1.send();

        var get2 = new XMLHttpRequest();
        var url = "https://www.universal-tutorial.com/api/countries/";
        get2.open("GET",url,true);
        get2.setRequestHeader("Authorization","Bearer "+token);
        get2.setRequestHeader("Accept","application/json");
        get2.onreadystatechange = function(){
if(get2.readyState == 1 && get2.status == 500)
{
    debugger;
    var dataa = JSON.parse(get2.responseText);
    debugger
}
        };
        

        
        function OK() {
          

        //method 2 API 1
            debugger;
            var get2 = new XMLHttpRequest();
            var url1 = "http://battuta.medunes.net/api/country/all/?key=3c8f199520fd54ea754cffd3245bbbe1";
            get2.open("GET", url1, true);
            //  get2.setRequestHeader("key",'3c8f199520fd54ea754cffd3245bbbe1' );
            // get2.setRequestHeader("Accept", "application/json");
            get2.onreadystatechange = function () {
                debugger;
                if (get2.readyState == 4 && get2.status == 200) {
                    var data2 = JSON.parse(get2.responseText);
                    debugger;
                }
            };
            get2.send();

        }
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <button onclick="OK()">BUTTON</button>
    <select name="country" class="countries" id="countryId">
        <option value="">Select Country</option>
        </select>
        <select name="state" class="states" id="stateId">
        <option value="">Select State</option>
        </select>
        <select name="city" class="cities" id="cityId">
        <option value="">Select City</option>
        </select>
</body>

</html>